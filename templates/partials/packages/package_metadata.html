<div id="pkgdeps" class="listing">
    <h3>Dependencies ({{ dependencies | length }})</h3>
    <ul id="pkgdepslist">
        {% for dep in dependencies %}
            <li>
                {% set broken = not dep.is_package() %}
                {% if broken %}
                    <span class="broken">
                {% else %}
                    <a href="{{ dep.DepName | pkgname_link }}">
                {% endif %}
                    {{ dep.DepName }}
                {% if broken %}
                    </span>
                {% else %}
                    </a>
                {% endif %}
                {{ dep.Package | provides_list(dep.DepName) | safe }}
                {# If this dependency type is an optdepends (id: 4). #}
                {% if dep.DepTypeID == 4 %}
                    <em>{{ dep | dep_extra_desc }}</em>
                {% else %}
                    <em>{{ dep | dep_extra }}</em>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
</div>

<div id="pkgreqs" class="listing">
    <h3>Required by ({{ required_by | length }})</h3>
    <ul id="pkgreqslist">
        {% for dep in required_by %}
            <li>
                <a href="{{ dep.Package | package_link }}">
                    {{ dep.Package.Name }}
                </a>

                {% if dep.DepName != package.Name %}
                    <span class="virtual-dep">
                        ({{ "requires %s" | tr | format(dep.DepName) }})
                    </span>
                {% endif %}

                <em>{{ dep | dep_extra }}</em>
            </li>
        {% endfor %}
    </ul>
</div>

<div id="pkgfiles" class="listing">
    <h3>Sources ({{ sources | length }})</h3>
</div>

<div>
    <ul id="pkgsrcslist">
        {% for src in sources %}
            <li>
                <a href="{{ src.Source }}">{{ src.Source }}</a>
            </li>
        {% endfor %}
    </ul>
</div>
